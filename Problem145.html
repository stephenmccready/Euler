<!DOCTYPE html>
<html lang="en">
<head>
<title>Problem 145</title>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="cache-control" content="no-cache, must-revalidate, post-check=0, pre-check=0" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
<style>
table {border-collapse: collapse;}
th,td {border:1px solid powderblue;padding:5px;}
</style>
</head>
<body>
<div id="reversibles"></div>
<table><tbody id="results"></tbody></table>
</body>
<script>
/*
Some positive integers n have the property that the sum [ n + reverse(n) ] consists entirely of odd (decimal) digits. For instance, 36 + 63 = 99 and 409 + 904 = 1313. We will call such numbers reversible; so 36, 63, 409, and 904 are reversible. Leading zeroes are not allowed in either n or reverse(n).

There are 120 reversible numbers below one-thousand.

How many reversible numbers are there below one-billion (10^9)?
*/
var reversibles = 0;

for(num = 11; num < 1000000000; num++) {
	var strNum = num.toString();

	if(	(strNum[0] % 2) == (strNum[strNum.length - 1] % 2) 
			//If first and last are both even or both odd then the result will be even - skip
		|| strNum[strNum.length - 1] == '0' // If the number ends in 0 - skip because the reverse will start with 0
	) {
	} else {
		// reverse the number
		var strArray = strNum.split('');
		strArray.reverse();
		var revNum = parseInt(strArray.join(''));

		var result = num + revNum;
		var strResult = result.toString();
		var resultArray = strResult.split('');
		var allOdd = true;
	
		for(x=0; x<resultArray.length; x++){
			if((resultArray[x] % 2) == 0){
				allOdd = false;
				x = 9999999;
			}
		}
	
		if(allOdd){
			reversibles++;			
//			document.getElementById("results").innerHTML += '<tr><td>' + num +'</td><td>' 
//														+ strArray.join('') +'</td><td>' 
//														+ strResult +'</td><td>' 
//														+ allOdd + '</td></tr>';
		} else {
		}
	}
}

document.getElementById("reversibles").innerHTML = reversibles;

</script>
</html>
